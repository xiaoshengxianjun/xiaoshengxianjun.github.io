<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>九宫格缩放图片</title>
		<style type="text/css">
			*{margin:0;padding:0;}
			#box {
				width : 350px;
				height : 350px;
				margin : 100px auto;
				/*border : 1px solid black;*/
			}
			.rectDiv {
				width : 100px;
				height : 100px;
				background : red;
				margin-right : 10px;
				margin-top : 10px;
				float : left;
				z-index: 0;
			}
			.rectDiv img{
				width: 100%;
				height: 100%;
			}
			
		</style>
	</head>
	<body>
		<div id="box">
			<div class="rectDiv"><img src="img/1.jpg"/></div>
			<div class="rectDiv"><img src="img/2.jpg"/></div>
			<div class="rectDiv"><img src="img/3.jpg"/></div>
			<div class="rectDiv"><img src="img/4.jpg"/></div>
			<div class="rectDiv"><img src="img/5.jpg"/></div>
			<div class="rectDiv"><img src="img/6.jpg"/></div>
			<div class="rectDiv"><img src="img/7.jpg"/></div>
			<div class="rectDiv"><img src="img/8.jpg"/></div>
			<div class="rectDiv"><img src="img/9.jpg"/></div>
		</div>
		<script src="js/move.js" type="text/javascript" charset="utf-8"></script>
		<script>
			window.onload = function (){
				
				var box = document.getElementById('box');
				var divs = box.getElementsByTagName('div');
			    // 将每一个rectDiv块在定位布局下的left和top算出来
				for(var i = 0;i < divs.length; i++){
					divs[i].style.left = divs[i].offsetLeft + "px";
					divs[i].style.top = divs[i].offsetTop + "px";
					
				}
				// 另起一个循环，在left和top加好而没有生效的时候加定位，使它们生效
				for(var i = 0;i < divs.length; i++){
					divs[i].style.position = "absolute";
					divs[i].style.margin = "0";
				}
				var zindex = 0;
				for(var i = 0; i < divs.length; i++){
					divs[i].lef = divs[i].offsetLeft;
					divs[i].to = divs[i].offsetTop;
					divs[i].index = i;
					divs[i].onmouseover = function(){
						divs[this.index].style.zIndex = ++zindex;
						move(divs[this.index],{width:180,height:180,left:this.lef-40,top:this.to-40});
					}
					divs[i].onmouseleave = function(){
						//divs[this.index].style.zIndex = 0;
						move(divs[this.index],{width:100,height:100,left:this.lef,top:this.to});
					}
				}
			};
		</script>
	</body>
</html>